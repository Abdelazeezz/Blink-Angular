<section class="p-5 min-vh-100 d-flex align-items-center ">
    <div class="container p-5">
        <div class="row justify-content-center align-items-stretch">
            
            <div class="col-md-6 d-flex align-items-center ">
                <div class="w-100 max-vh-100  ">

                    <img  src="./assets/images/register.png" alt="Register" class="img-fluid h-75 ">

                </div>
            </div>

            <div class="col-md-6 d-flex align-items-center">
                <div class="card shadow-lg p-3 w-100 d-flex flex-column justify-content-center">
                    <h2 class="text-center mb-3">Create Account</h2>
                    <form [formGroup]="registerForm" (ngSubmit)="registeration()">
                        <div class="row"> 
                            <div class="col-md-6 mb-2">
                                
                                <label for="fname" class="form-label">First Name</label>
                                <input #inputFName formControlName="fName" type="text" class="form-control" id="fname" placeholder="Enter first name">
                            <!-- validation  -->
                            <div class="text-danger" *ngIf="registerForm.get('fName')?.errors && (registerForm.get('fName')?.touched || inputFName.value.length>0)">
                                <p *ngIf="registerForm.get('fName')?.getError('required')">Name Is Required</p>
                                <p *ngIf="registerForm.get('fName')?.getError('minlength')">Name Minlength is 3</p>
                                <p *ngIf="registerForm.get('fName')?.getError('maxlength')">Name Maxlength is 15</p>
                
                            </div>
                             
                            
                            
                            </div>
                            <div class="col-md-6 ">
                                <label for="lname" class="form-label">Last Name</label>
                                <input #inputLName  formControlName="lName" type="text" class="form-control" id="lname" placeholder="Enter last name">
                            <!-- validation  -->
                            <div class="text-danger" *ngIf="registerForm.get('lName')?.errors && (registerForm.get('lName')?.touched || inputLName.value.length>0)">
                                <p *ngIf="registerForm.get('lName')?.getError('required')">Name Is Required</p>
                                <p *ngIf="registerForm.get('lName')?.getError('minlength')">Name Minlength is 3</p>
                                <p *ngIf="registerForm.get('lName')?.getError('maxlength')">Name Maxlength is 15</p>

                            </div>
                            
                            
                            </div>
                        </div>
                        <div class="mb-2">
                            <label for="username" class="form-label">Username</label>
                            <input #inputUserName  formControlName="userName" type="text" class="form-control" id="username" placeholder="Enter a username">
                        <!-- validation  -->
                        <div class="text-danger" *ngIf="registerForm.get('userName')?.errors && (registerForm.get('userName')?.touched || inputUserName.value.length>0)">
                            <p *ngIf="registerForm.get('userName')?.getError('required')">Username Is Required</p>
                            <p *ngIf="registerForm.get('userName')?.getError('minlength')">Username Minlength is 3</p>
                            <p *ngIf="registerForm.get('userName')?.getError('maxlength')">Username Maxlength is 20</p>
                        </div>
                        </div>
                        <div class="mb-2">
                            <label for="email" class="form-label">Email</label>
                            <input #inputEmail formControlName="email" type="email" class="form-control" id="email" placeholder="Enter email">
                        <!-- validation  -->
                        <div class="text-danger" *ngIf="registerForm.get('email')?.errors && (registerForm.get('email')?.touched || inputEmail.value.length>0)">
                            <p *ngIf="registerForm.get('email')?.getError('required')">Email Is Required</p>
                            <p *ngIf="registerForm.get('email')?.getError('email')">Email Is Invalid Format</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-2">
                                <label for="password" class="form-label">Password</label>
                                <input #inputPassword formControlName="password" type="password" class="form-control" id="password" placeholder="Enter password">
                            <!-- validation  -->
                            <div class="text-danger" *ngIf="registerForm.get('password')?.errors && (registerForm.get('password')?.touched || inputPassword.value.length > 0)">
                                <p *ngIf="registerForm.get('password')?.getError('required')">Password Is Required</p>
                                <p *ngIf="registerForm.get('password')?.getError('pattern')">Password must be at least 8 characters long and include at least one uppercase letter," +" one digit, and one special character  </p>
                
                            </div>

                            </div>
                            <div class="col-md-6 mb-2">
                                <label for="repassword" class="form-label">Confirm Password</label>
                                <input #InputRepassword formControlName="rePassword" type="password" class="form-control" id="repassword" placeholder="Re-enter password">
                            <!-- validation  -->
                            <div class="text-danger" *ngIf="registerForm.get('rePassword')?.errors && (registerForm.get('rePassword')?.touched || InputRepassword.value.length > 0)">
                                <p *ngIf="registerForm.get('rePassword')?.getError('required')">rePassword Is Required</p>
                                <p *ngIf="registerForm.get('rePassword')?.getError('mismatch')">rePassword and Password don't match ! </p>
                
                            </div>
                            </div>
                        </div>
                        <div class="mb-2">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input #inputPhone formControlName="phoneNumber" type="tel" class="form-control" id="phone" placeholder="Enter phone number">
                        <!-- validation  -->
                        <div class="text-danger" *ngIf="registerForm.get('phoneNumber')?.errors && (registerForm.get('phoneNumber')?.touched || inputPhone.value.length > 0)">
                            <p *ngIf="registerForm.get('phoneNumber')?.getError('required')">phone Is Required</p>
                            <p *ngIf="registerForm.get('phoneNumber')?.getError('pattern')"> accept only egypt phone number </p>
            
                        </div>
                        
                        
                        </div>
                        <div class="mb-2">
                            <label for="address" class="form-label">Address</label>
                            <textarea #InputAddress formControlName="address" class="form-control" id="address" rows="2" placeholder="Enter your address"></textarea>
                        <!-- validation  -->
                        <div class="text-danger" *ngIf="registerForm.get('address')?.errors && (registerForm.get('address')?.touched || InputAddress.value.length > 0)">
                            <p *ngIf="registerForm.get('address')?.getError('required')">Address Is Required</p>
                            <p *ngIf="registerForm.get('address')?.getError('minlength')">Address Minlength is 10</p>
                            <p *ngIf="registerForm.get('address')?.getError('maxlength')">Address Maxlength is 100</p>
                            </div>
                        </div>
                        <button [disabled]="registerForm.invalid" type="submit" class="btn submit mx-auto d-block text-white w-50">Create Account  <i *ngIf="isLoading" class="fas fa-spinner fa-spin"></i></button>
                        
        <p class="text-danger mt-1" *ngIf="msgerror">
            {{msgerror}}
        </p>

                        <div class="text-center mt-1">
                            <a routerLink="login" class="btn btn-link text-dark">Already have an account? Login</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div> 
</section>
